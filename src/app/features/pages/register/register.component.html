<section class="auth-shell" aria-labelledby="register-title">
  <mat-card class="auth-card">
    <h1 id="register-title">Create account</h1>
    <p class="auth-subtitle">Register to access protected API operations.</p>

    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="auth-form">
      <mat-form-field appearance="outline">
        <mat-label>Email</mat-label>
        <input matInput type="email" formControlName="email" autocomplete="email" />
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Password</mat-label>
        <input matInput type="password" formControlName="password" autocomplete="new-password" />
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Confirm password</mat-label>
        <input matInput type="password" formControlName="confirmPassword" autocomplete="new-password" />
      </mat-form-field>

      @if (submitError()) {
        <p class="auth-error" role="alert">{{ submitError() }}</p>
      }

      <button mat-flat-button type="submit" [disabled]="submitting()">
        @if (submitting()) {
          <mat-spinner diameter="18"></mat-spinner>
        } @else {
          Register
        }
      </button>
    </form>

    <p class="auth-link-row">
      Already have an account?
      <a [routerLink]="['/login']" [queryParams]="{ returnUrl }">Sign in</a>
    </p>
  </mat-card>
</section>
